# 反射及附加题作业需求

![20201107_113408_16](image/20201107_113408_16.png)

* 编译就确定的情况比较蝉蛹
* 反射是程序运行期间，对程序变量，对程序自身进行修改


## reflect包

![20201107_114217_62](image/20201107_114217_62.png)

## 获取类型，名字

![20201107_115047_72](image/20201107_115047_72.png)

![20201107_115437_38](image/20201107_115437_38.png)

![20201107_115455_98](image/20201107_115455_98.png)

## 反射改值需要传地址

![20201107_115653_21](image/20201107_115653_21.png)

![20201107_115701_30](image/20201107_115701_30.png)

* 传指针会把类型识别为指针

![20201107_115744_94](image/20201107_115744_94.png)

## 结构体反射（难点）

![20201107_120158_13](image/20201107_120158_13.png)

* 遍历结构体中的所有字段

![20201107_120334_89](image/20201107_120334_89.png)

## 反射性能低下

![20201107_120427_36](image/20201107_120427_36.png)

* 极少使用
* 为了提升兼容性，框架会使用

## init文件解析


![20201107_120820_83](image/20201107_120820_83.png)

![20201107_120949_96](image/20201107_120949_96.png)


## 下期内容

![20201107_121109_49](image/20201107_121109_49.png)


## 回顾

![20201108_092324_82](image/20201108_092324_82.png)

* 时间格式是 2006 01 02 15 04 05 000
* time包，Time类型  
* time.Now()返回时间类型
* 时间戳 1970年1月1日到现在的秒，纳秒数
  - time.Now().UnixNano() 纳秒
  - time.Now().Unix()
* 时间间隔类型time.Duration()

![20201108_093035_39](image/20201108_093035_39.png)

* 时间操作。时间对象相互操作
  - 加法，数值相加
    - time.Add()
  - 减法。s**ub必须是两个时间对象**
    - time.Sub()

![20201108_093159_82](image/20201108_093159_82.png)

* 时间格式化
  - time.Format
* 定时器
  - channal通道，每隔1秒去通道获取
* 根据时间戳解析时间
  - time.Parse(format,str,loc)
  - time.LoadLocation()

![20201108_094004_82](image/20201108_094004_82.png)

* 日志库
  - time
  - 文件操作
  - runtime.Caller()
    - 运行时runtime用于垃圾回收等
  - 结构体，接口，方法，切片，数组，函数

* 反射
  - 让代码更灵活
  - 性能比较差
  - 接口类型变量底层分为两部分，动态类型和动态值
  - json序列化，反序列化

![20201108_095052_18](image/20201108_095052_18.png)

  - 反射的两个方法
    - reflect.TypeOf()
    - reflect.ValueOf()






---
